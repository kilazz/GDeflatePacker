<Window x:Class="GDeflateGUI.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Title="GDeflate GUI - CPU Version" Height="600" Width="850" WindowStartupLocation="CenterScreen" Background="#FAFAFA" Foreground="#333">
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<!-- Header -->
			<RowDefinition Height="Auto"/>
			<!-- Toolbar -->
			<RowDefinition Height="*"/>
			<!-- Content -->
			<RowDefinition Height="Auto"/>
			<!-- Footer -->
			<RowDefinition Height="Auto"/>
			<!-- Status Bar -->
		</Grid.RowDefinitions>
		<!-- 1. Header Area -->
		<Border Grid.Row="0" Background="#FFFFFF" BorderBrush="#EEEEEE" BorderThickness="0,0,0,1" Padding="20">
			<DockPanel>
				<StackPanel Orientation="Horizontal" DockPanel.Dock="Right" VerticalAlignment="Center">
					<TextBlock x:Name="TxtBackendStatus" Text="Checking..." FontSize="14" FontWeight="SemiBold"/>
				</StackPanel>
				<StackPanel>
					<TextBlock Text="GDeflate Compressor" FontSize="20" FontWeight="Bold" Foreground="#111"/>
					<TextBlock Text="High-performance direct compression" FontSize="12" Foreground="#888" Margin="0,4,0,0"/>
				</StackPanel>
			</DockPanel>
		</Border>
		<!-- 2. Toolbar -->
		<StackPanel Grid.Row="1" Orientation="Horizontal" Margin="20,20,20,10">
			<Button x:Name="BtnAddFiles" Content="+ Add Files" Style="{StaticResource ModernBtn}" Margin="0,0,10,0" Click="BtnAddFiles_Click"/>
			<Button x:Name="BtnAddFolder" Content="+ Add Folder" Style="{StaticResource ModernBtn}" Margin="0,0,10,0" Click="BtnAddFolder_Click"/>
			<Button x:Name="BtnClear" Content="Clear List" Style="{StaticResource DangerBtn}" Click="BtnClear_Click"/>
		</StackPanel>
		<!-- 3. File List -->
		<Border Grid.Row="2" Margin="20,0,20,20" Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="4">
			<ListView x:Name="FileList" BorderThickness="0" AllowDrop="True" Drop="FileList_Drop" Background="Transparent" Padding="5">
				<ListView.ItemContainerStyle>
					<Style TargetType="ListViewItem">
						<Setter Property="ToolTip" Value="{Binding FilePath}"/>
					</Style>
				</ListView.ItemContainerStyle>
				<ListView.View>
					<GridView>
						<GridViewColumn Header="File Path" DisplayMemberBinding="{Binding RelativePath}" Width="640"/>
						<GridViewColumn Header="Size" DisplayMemberBinding="{Binding Size}" Width="120"/>
					</GridView>
				</ListView.View>
			</ListView>
		</Border>
		<!-- 4. Action Footer -->
		<Border Grid.Row="3" Background="#F0F0F0" Padding="20">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>
				<StackPanel Orientation="Horizontal" VerticalAlignment="Center" Grid.Column="0">
					<TextBlock Text="Output Format:" VerticalAlignment="Center" FontWeight="SemiBold" Margin="0,0,10,0"/>
					<ComboBox x:Name="ComboFormat" Width="180" SelectedIndex="0" Height="30" VerticalContentAlignment="Center" Padding="5,0">
						<ComboBoxItem Content=".gdef (Single File)"/>
						<ComboBoxItem Content=".zip (Archive)"/>
					</ComboBox>
				</StackPanel>
				<StackPanel Orientation="Horizontal" Grid.Column="2">
					<Button x:Name="BtnDecompress" Content="Extract / Decompress" Style="{StaticResource ModernBtn}" Margin="0,0,10,0" Click="BtnDecompress_Click"/>
					<Button x:Name="BtnCompress" Content="Start Compression" Style="{StaticResource PrimaryBtn}" MinWidth="140" Click="BtnCompress_Click"/>
				</StackPanel>
			</Grid>
		</Border>
		<!-- 5. Status Bar -->
		<Grid Grid.Row="4" Background="#007ACC">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="Auto"/>
			</Grid.ColumnDefinitions>
			<TextBlock x:Name="TxtStatus" Text="Ready" Foreground="White" Padding="10,5" VerticalAlignment="Center"/>
			<ProgressBar x:Name="ProgressBar" Grid.Column="0" Height="26" Minimum="0" Maximum="100" Visibility="Hidden" Opacity="0.3" Background="Transparent" BorderThickness="0"/>
		</Grid>
	</Grid>
</Window>
