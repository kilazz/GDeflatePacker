<Window x:Class="GDeflateGUI.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Title="Game Asset Browser" Height="720" Width="1200" WindowStartupLocation="CenterScreen" Background="#F9F9F9">
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>
		<!-- Header -->
		<Border Grid.Row="0" Background="White" BorderBrush="#EEE" BorderThickness="0,0,0,1" Padding="15">
			<DockPanel>
				<TextBlock x:Name="TxtBackendStatus" DockPanel.Dock="Right" Text="System Check..." Foreground="#888" VerticalAlignment="Center"/>
				<StackPanel>
					<TextBlock Text="Game Asset Browser" FontSize="18" FontWeight="Bold" Foreground="#222"/>
					<TextBlock Text="Asset Management System" FontSize="12" Foreground="#888"/>
				</StackPanel>
			</DockPanel>
		</Border>
		<!-- Toolbar -->
		<Border Grid.Row="1" Background="White" Padding="10" Margin="0,0,0,1">
			<WrapPanel>
				<Button x:Name="BtnOpenArchive" Content="ðŸ“‚ Open Archive" Style="{StaticResource ModernBtn}" Margin="0,0,10,0" Click="BtnOpenArchive_Click"/>
				<Rectangle Width="1" Height="20" Fill="#EEE" Margin="5,0,15,0" VerticalAlignment="Center"/>
				<Button x:Name="BtnAddFiles" Content="+ Add Files" Style="{StaticResource ModernBtn}" Margin="0,0,10,0" Click="BtnAddFiles_Click"/>
				<Button x:Name="BtnAddFolder" Content="+ Add Folder" Style="{StaticResource ModernBtn}" Margin="0,0,10,0" Click="BtnAddFolder_Click"/>
				<Button x:Name="BtnClear" Content="Clear List" Style="{StaticResource DangerBtn}" Margin="0,0,10,0" Click="BtnClear_Click"/>
				<Rectangle Width="1" Height="20" Fill="#EEE" Margin="5,0,15,0" VerticalAlignment="Center"/>
				<Button x:Name="BtnExtractAll" Content="Extract All" Style="{StaticResource ModernBtn}" Margin="0,0,10,0" Click="BtnExtractAll_Click"/>
				<Button x:Name="BtnCompress" Content="ðŸš€ Pack .gpck" Style="{StaticResource PrimaryBtn}" Click="BtnCompress_Click"/>
			</WrapPanel>
		</Border>
		<!-- Main Area -->
		<Grid Grid.Row="2" Margin="15">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="650"/>
				<ColumnDefinition Width="10"/>
				<ColumnDefinition Width="*"/>
			</Grid.ColumnDefinitions>
			<!-- File List -->
			<Grid Grid.Column="0">
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>
				<TextBlock Text="Package Contents" FontWeight="SemiBold" Margin="0,0,0,5" Foreground="#555"/>
				<Border Grid.Row="1" Background="White" BorderBrush="#DDD" BorderThickness="1" CornerRadius="4">
					<ListView x:Name="FileList" BorderThickness="0" AllowDrop="True" Drop="FileList_Drop" SelectionChanged="FileList_SelectionChanged">
						<ListView.View>
							<GridView>
								<GridViewColumn Header="" DisplayMemberBinding="{Binding TypeIcon}" Width="30"/>
								<GridViewColumn Header="Path / GUID" DisplayMemberBinding="{Binding DisplayName}" Width="250"/>
								<GridViewColumn Header="Size" DisplayMemberBinding="{Binding Size}" Width="70"/>
								<GridViewColumn Header="Method" DisplayMemberBinding="{Binding CompressionInfo}" Width="100"/>
								<GridViewColumn Header="Manifest" DisplayMemberBinding="{Binding ManifestInfo}" Width="120"/>
							</GridView>
						</ListView.View>
					</ListView>
				</Border>
			</Grid>
			<!-- Preview -->
			<Grid Grid.Column="2">
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>
				<TextBlock Text="Asset Preview" FontWeight="SemiBold" Margin="0,0,0,5" Foreground="#555"/>
				<Border Grid.Row="1" Background="#1E1E1E" BorderBrush="#333" BorderThickness="1" CornerRadius="4" ClipToBounds="True">
					<Grid>
						<TextBlock x:Name="LblNoPreview" Text="Select a file to inspect" Foreground="#555" VerticalAlignment="Center" HorizontalAlignment="Center"/>
						<Image x:Name="ImgPreview" Visibility="Collapsed" Stretch="Uniform"/>
						<TextBox x:Name="TxtPreview" Visibility="Collapsed" IsReadOnly="True" Background="Transparent" Foreground="#D4D4D4" BorderThickness="0" FontFamily="Consolas" Padding="10" VerticalScrollBarVisibility="Auto" TextWrapping="Wrap"/>
						<TextBox x:Name="HexPreview" Visibility="Collapsed" IsReadOnly="True" Background="Transparent" Foreground="#569CD6" BorderThickness="0" FontFamily="Consolas" Padding="10" VerticalScrollBarVisibility="Auto"/>
					</Grid>
				</Border>
			</Grid>
		</Grid>
		<!-- Status -->
		<Grid Grid.Row="3" Background="#007ACC" Height="28">
			<TextBlock x:Name="TxtStatus" Text="Ready" Foreground="White" VerticalAlignment="Center" Margin="10,0" FontSize="12"/>
			<ProgressBar x:Name="ProgressBar" HorizontalAlignment="Right" Width="150" Height="10" Margin="10,0" Visibility="Hidden" Background="#005A9E" BorderThickness="0"/>
		</Grid>
	</Grid>
</Window>